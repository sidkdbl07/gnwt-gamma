<template name="main-layout">
  {{> Template.dynamic template=top}}
  {{> Template.dynamic template=main}}
</template>

<template name="header">
  <h2>You are in <i>{{routeName}}</i> route</h2>
  <ul>
    <li><a href="{{pathFor 'home'}}">Home</a></li>
  </ul>
</template>

<template name="buildingsList">
  {{#if isSubReady 'buildings'}}
    {{#each getBuildings}}
      <h2>{{name}}</h2>
      <a href="{{pathFor 'building' buildingId=_id}}">Link to building</a>
      <hr>
    {{/each}}
  {{else}}
    {{> loading}}
  {{/if}}
</template>

<template name="singleBuilding">
  {{#if isSubReady 'building'}}
    {{#with getBuilding}}
    <h2>{{name}}</h2>
    {{/with}}
  {{else}}
    {{> loading}}
  {{/if}}
</template>

<template name="loading">
  Boo ya
</template>
