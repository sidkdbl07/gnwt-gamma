<template name="users">
  <nav>
    <div class="nav-wrapper grey lighten-3" style="padding-left: 10px">
      <div class="col s12">
        <span class="breadcrumb grey-text text-darken-3">Users</span>
      </div>
    </div>
  </nav>
  <div style="position: absolute; top: 78px; right: 100px;">
    {{#if isInRole 'admin' 'default_group'}}
    <a href="{{pathFor '/user/add'}}" class="btn waves-effect waves-light light-green">New</a>
    {{/if}}
  </div>
  {{> tabular table=TabularTables.Users class="table table-striped"}}

  {{>deleteUserModal}}
</template>

<template name="userTableButtons">
  <div style="position: relative;">
    <div style="position: absolute; right: 10px; top: -17px;">
      <a href="{{pathFor 'user/edit/:id' id=item._id}}" class="user-edit btn-floating light-green"><i class="material-icons">create</i></a>
    </div>
  {{#if isInRole 'admin' 'default_group'}}
    <div class="fixed-action-btn horizontal click-to-toggle" style="position: absolute; right: 74px; top: -17px;">
      <a class='btn-floating white'><i class="material-icons" style="color: #8bc34a !important;">more_horiz</i></a>
      <ul style="position: absolute; top: -17px;">
        <li><a href="#deleteUserModal" class="user-delete modal-trigger btn-floating red"><i class="material-icons">delete</i></a></li>
        <li></li>
      </ul>
    </div>
  {{/if}}
  </div>
  <!--
  <a href="{{pathFor '/user/edit/:id' id=item._id}}" class="building-edit btn-floating light-green"><i class="material-icons">create</i></a>
  <a href="#deleteUserModal" class="user-delete modal-triger btn-floating white"><i class="material-icons" style="color: #f44336 !important;">delete</i></a>
-->
</template>

<template name="deleteUserModal">
  <input type="hidden" id="delete_user_id" value="" />
  <div id="deleteUserModal" class="modal">
    <div class="modal-content">
      <h4>Warning</h4>
      <p>Deleting a user cannot be undone!</p>
      <p>All records associated with this user (including inspections) will be removed.</p>
    </div>
    <div class="modal-footer">
      <a id="go-ahead-and-delete-user" href="#!" class="btn modal-action modal-close waves-effect red">Delete User</a>
      <a href="#!" class="modal-action modal-close waves-effect btn-flat">Cancel</a>
    </div>
  </div>
</template>
